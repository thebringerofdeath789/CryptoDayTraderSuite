# User Interface Guide

This guide covers the primary windows and forms used in the CryptoDayTraderSuite.

## Main Window
The application starts with the Main Form, which provides the top-level navigation menu.

### Menu Bar (`MainForm_Menu.cs`)
- **File**: Exit the application.
- **Profiles**: Encrypted export/import of your entire configuration (accounts + keys).
- **Accounts**: Open the **Account Manager** to add or edit broker accounts.
- **API Keys**: Open the **Key Manager** to securely store API secrets.
- **Data**: Tools to manually load product lists or fetch fee tiers.
- **Trading**: Access to trading modes.
  - **Auto Mode...**: Opens the Automated Scanner.
  - **Status**: View current PnL vs Projections.
  - **Settings**: Application-wide preferences.
- **Tools**: Quick actions.
  - **Backtest**: Run the simulation on current data.
  - **Paper/Live Trade**: Toggles for manual trading buttons.
  - **Planner**: Opens the Trade Planner.
- **Logs**: Open the log folder or copy the last log to clipboard.

## Automatic Mode
**Class**: `UI/AutoModeForm.cs`

This is the "Scanner" interface that allows you to identify and execute trades across multiple strategies.

### Workflow
1.  **Configuration**:
    - **Account**: Select which broker account to trade with.
  - **Pair Selection**: Choose one or multiple pairs from the pair list.
  - **Popular Pairs First**: Most-used USD pairs are pinned to the top of the list (e.g., BTC-USD, ETH-USD, SOL-USD) for quicker selection.
  - **Granularity**: Choose timeframe (e.g., 60 min).
    - **Lookback**: Days of history to analyze for the signal.
    - **Equity**: The dollar amount to base position sizing on.
2.  **Scan**: Runs `AutoPlanner.Project` across selected pair(s), combines results, and ranks by Expectancy.
3.  **Auto Propose (default ON)**: After a successful Scan, Auto Mode can immediately propose the top profitability trade plan automatically.
4.  **Propose**: Manual propose remains available and filters scan results based on account risk settings (Risk Per Trade %), generating specific `TradePlan` objects (Entry, Stop, Target).
5.  **Execute**:
    - Validates API Keys.
    - Sends the orders to the broker (Paper or Live).
    - Displays success/error for each order.

### Grid Columns
- **Strategy**: Name of the algorithm (e.g., "ORB", "VWAP Trend").
- **Win%**: Historical win rate.
- **Sharpe**: Risk-adjusted return metric.
- **Expectancy**: Expected dollar return per trade.

## Trade Planner
**Class**: `UI/PlannerControl.cs`

A dashboard to manage "Planned" trades and view the machine learning prediction history.

### Features
- **Generation Controls (Inline)**:
  - **Account / Symbol / Granularity / Lookback / Equity** selectors at the top of the Planner page.
  - **Scan** runs strategy projections.
  - **Propose** requests trade plans (including AI trade review when sidecar is connected) and appends them to Planned Trades.
  - **Execute** submits queued proposed plans through the selected account broker path.
- **Planned Trades Grid**:
  - Lists trades generated by the AutoPlanner but not yet executed.
  - **Enabled Checkbox**: Toggle which trades should be active.
  - **Save**: Persists editable planned trade fields.
  - **Add/Edit/Delete**: Manual lifecycle controls for planned records.
- **prediction History Grid**:
  - Shows the last 500 predictions from the ML Engine.
  - Columns: `Horizon`, `Direction`, `Probability`, `Realized Return`.
